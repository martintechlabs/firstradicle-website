<!DOCTYPE html><!--k7Cjo5BSVTdIXTzcBDI7I--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/7b0b24f36b1a6d0b-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/af4bf8399d1aacdf-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/6434915189feccb4.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-c1add83710e727c5.js"/><script src="/_next/static/chunks/36f8b78d-299d77e4e159f4e6.js" async=""></script><script src="/_next/static/chunks/902-92cc678294c09ee2.js" async=""></script><script src="/_next/static/chunks/main-app-cad26b3954884fcf.js" async=""></script><script src="/_next/static/chunks/374-85a8426739003d61.js" async=""></script><script src="/_next/static/chunks/app/layout-1be92dc978f6506c.js" async=""></script><script src="/_next/static/chunks/198-20ee7a42fb36a3cb.js" async=""></script><script src="/_next/static/chunks/app/error-ea2cb049d32b3032.js" async=""></script><script src="/_next/static/chunks/app/not-found-760f9e738ba3b95d.js" async=""></script><script src="/_next/static/chunks/229-7e7aa3334379e546.js" async=""></script><script src="/_next/static/chunks/972-4a0ad228a6f177ed.js" async=""></script><script src="/_next/static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js" async=""></script><meta name="next-size-adjust" content=""/><title>Escaping the Airtable Trap - First Radicle</title><meta name="description" content="How we migrated 50k records from Airtable to PostgreSQL without losing a single record."/><link rel="icon" href="/favicon.png"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_eb41fe __variable_543835"><div hidden=""><!--$--><!--/$--></div><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><div class="min-h-screen bg-background text-foreground overflow-x-hidden font-sans selection:bg-primary/20"><nav class="py-6 sticky top-0 bg-background/80 backdrop-blur-md z-50 border-b border-border"><div class="container flex justify-between items-center"><a class="flex items-center gap-3 cursor-pointer" href="/"><img alt="First Radicle Logo" loading="lazy" width="40" height="40" decoding="async" data-nimg="1" class="h-10 w-auto" style="color:transparent" src="/images/logo.png"/><div class="font-serif font-bold text-2xl tracking-tight text-primary">First Radicle</div></a><div class="hidden lg:flex gap-8 font-sans font-medium text-sm text-muted-foreground"><a class="hover:text-primary transition-colors" href="/#problem">The Problem</a><a class="hover:text-primary transition-colors" href="/#solution">Solution</a><a class="hover:text-primary transition-colors" href="/#process">Process</a><a class="hover:text-primary transition-colors" href="/#pricing">Pricing</a><a class="hover:text-primary transition-colors font-bold" href="/unblock">Unblock Session</a></div><a href="/unblock"><button class="organic-btn items-center gap-2 hidden lg:inline-flex py-2 px-6 text-sm">Book Call<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right w-4 h-4"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></button></a><div class="lg:hidden"><button class="p-2 text-primary hover:bg-primary/5 rounded-md transition-colors" aria-label="Toggle menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></div></nav><main><header class="pt-20 pb-12 bg-secondary/30"><div class="container max-w-4xl mx-auto"><div class="mb-8"><a href="/"><button class="organic-btn-secondary gap-2 text-sm py-2 px-4 inline-flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left w-4 h-4 mr-2"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg> Back to Home</button></a></div><div class="flex items-center gap-3 text-sm font-sans font-medium text-muted-foreground mb-6 uppercase tracking-wider"><span class="text-primary">Technical Migration</span><span class="w-1 h-1 rounded-full bg-primary/30"></span><span>Oct 12, 2025</span><span class="w-1 h-1 rounded-full bg-primary/30"></span><span>8 min read</span></div><h1 class="text-4xl md:text-6xl font-serif font-medium tracking-tight leading-[1.1] mb-8 text-primary">Escaping the Airtable Trap: Migrating 50k Records to PostgreSQL</h1><p class="text-xl md:text-2xl text-muted-foreground font-sans leading-relaxed max-w-3xl">Airtable is fantastic for prototyping, but when you hit the 50k record limit or need complex relational queries, it becomes a bottleneck. Here&#x27;s how we architect a zero-downtime migration.</p></div></header><div class="container max-w-5xl mx-auto -mt-12 mb-20 relative z-10"><div class="relative aspect-video rounded-2xl overflow-hidden shadow-2xl border border-white/20"><img alt="Airtable to Database Migration Illustration" loading="lazy" decoding="async" data-nimg="fill" class="object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/images/blog-airtable.png"/></div></div><article class="container max-w-3xl mx-auto pb-32"><div class="prose prose-lg prose-headings:font-serif prose-headings:text-primary prose-p:text-muted-foreground prose-strong:text-foreground prose-code:text-primary prose-code:bg-primary/5 prose-code:px-1 prose-code:rounded prose-code:font-mono prose-pre:bg-secondary/50 prose-pre:border prose-pre:border-border"><p class="lead text-xl font-medium text-foreground mb-12">We recently worked with a logistics startup that was running their entire operation on Airtable. They had 48,000 records in their main &quot;Shipments&quot; table and were hitting API rate limits daily. Their &quot;database&quot; was effectively a spreadsheet, and it was starting to crack.</p><h3>The Challenge: Relational Integrity</h3><p>The biggest hurdle in moving from Airtable to SQL isn&#x27;t the data volume—50k records is nothing for PostgreSQL. The challenge is <strong>preserving relationships</strong>.</p><p>In Airtable, a &quot;Linked Record&quot; is an array of IDs (e.g., <code>[&quot;rec123...&quot;, &quot;rec456...&quot;]</code>). In a proper relational database, this needs to be normalized into foreign keys or join tables. If you just dump the JSON, you&#x27;re not building a database; you&#x27;re building a slower Airtable.</p><div class="my-12 p-8 bg-secondary/30 rounded-xl border border-border"><h4 class="text-lg font-bold mb-4 flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layers w-5 h-5 text-primary"><path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"></path><path d="m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"></path><path d="m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"></path></svg>The Migration Strategy</h4><ul class="space-y-3 list-none pl-0"><li class="flex gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1"><path d="M20 6 9 17l-5-5"></path></svg><span><strong>Step 1: Schema Mapping.</strong> Define TypeScript interfaces for both the Airtable Source and the Postgres Destination.</span></li><li class="flex gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1"><path d="M20 6 9 17l-5-5"></path></svg><span><strong>Step 2: The Extract.</strong> Paginate through Airtable API to fetch all records, handling rate limits with exponential backoff.</span></li><li class="flex gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1"><path d="M20 6 9 17l-5-5"></path></svg><span><strong>Step 3: The Transform.</strong> Resolve Linked Record IDs to real foreign keys.</span></li><li class="flex gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1"><path d="M20 6 9 17l-5-5"></path></svg><span><strong>Step 4: The Load.</strong> Bulk insert into Postgres using transactions to ensure atomicity.</span></li></ul></div><h3>Step 1: Type-Safe Schema Definition</h3><p>We start by defining exactly what we&#x27;re dealing with. This prevents &quot;undefined&quot; errors halfway through a 2-hour migration script.</p><div class="not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800"><div class="flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800"><span class="text-xs font-mono text-gray-500">types/migration.ts</span><div class="flex gap-1.5"><div class="w-3 h-3 rounded-full bg-red-500/20"></div><div class="w-3 h-3 rounded-full bg-yellow-500/20"></div><div class="w-3 h-3 rounded-full bg-green-500/20"></div></div></div><pre class="p-6 overflow-x-auto text-sm font-mono leading-relaxed">// 1. The Source (Airtable)
interface AirtableShipment {
  id: string;
  fields: {
    &quot;Tracking Number&quot;: string;
    &quot;Status&quot;: &quot;In Transit&quot; | &quot;Delivered&quot; | &quot;Pending&quot;;
    &quot;Customer&quot;: string[]; // Array of Record IDs [&quot;recABC...&quot;]
    &quot;Value&quot;: number;
  }
}

// 2. The Destination (Postgres/Prisma)
interface DbShipment {
  id: string; // We keep the Airtable ID initially for mapping
  trackingNumber: string;
  status: ShipmentStatus;
  customerId: string; // Single Foreign Key
  value: number;
}</pre></div><h3>Step 2: Handling Pagination &amp; Rate Limits</h3><p>Airtable&#x27;s API is strict (5 requests/second). If you try to <code>Promise.all</code> 50k records, you&#x27;ll get banned. We use a custom iterator with a built-in delay.</p><div class="not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800"><div class="flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800"><span class="text-xs font-mono text-gray-500">utils/airtable-fetcher.ts</span></div><pre class="p-6 overflow-x-auto text-sm font-mono leading-relaxed">async function* fetchAllRecords(baseId: string, table: string) {
  let offset = undefined;
  
  do {
    const response = await airtable.get(`/${baseId}/${table}`, {
      params: { offset, pageSize: 100 }
    });

    yield response.data.records;
    
    offset = response.data.offset;
    
    // Crucial: Wait 250ms between pages to respect rate limits
    await new Promise(resolve =&gt; setTimeout(resolve, 250));
    
  } while (offset);
}</pre></div><h3>Step 3: Resolving Relationships</h3><p>This is the tricky part. Airtable gives you an array of IDs for a linked field, even if it&#x27;s a 1-to-1 relationship logically. You need to decide how to handle that.</p><p>In our case, a Shipment belongs to <strong>one</strong> Customer. We validate this assumption during the transform phase.</p><div class="not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800"><div class="flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800"><span class="text-xs font-mono text-gray-500">scripts/migrate.ts</span></div><pre class="p-6 overflow-x-auto text-sm font-mono leading-relaxed">const transformShipment = (record: AirtableShipment): DbShipment =&gt; {
  const customerIds = record.fields[&quot;Customer&quot;];
  
  if (!customerIds || customerIds.length === 0) {
    throw new Error(`Shipment ${record.id} has no customer linked`);
  }
  
  if (customerIds.length &gt; 1) {
    console.warn(`Shipment ${record.id} has multiple customers. Using first.`);
  }

  return {
    id: record.id,
    trackingNumber: record.fields[&quot;Tracking Number&quot;],
    status: mapStatus(record.fields[&quot;Status&quot;]),
    customerId: customerIds[0], // Map the first ID to the Foreign Key
    value: record.fields[&quot;Value&quot;] || 0
  };
};</pre></div><h3>The Result</h3><p>After running this script, we populated a PostgreSQL database with 48,000 shipments and 2,500 customers in about 4 minutes.</p><p>The immediate benefits were massive:</p><ul><li><strong>Query Speed:</strong> Complex filtering (e.g., &quot;Show all delivered shipments &gt; $500 from last month&quot;) went from 8 seconds in Airtable to 12ms in Postgres.</li><li><strong>Data Integrity:</strong> We added database constraints so it&#x27;s now impossible to create a shipment without a valid customer.</li><li><strong>Cost:</strong> They dropped their $1,200/mo Enterprise Airtable plan for a $50/mo Vercel Postgres instance.</li></ul><div class="mt-16 p-8 bg-primary/5 rounded-2xl border border-primary/10 text-center"><h3 class="text-2xl font-serif font-bold text-primary mb-4">Ready to escape your spreadsheet?</h3><p class="text-muted-foreground mb-8 max-w-xl mx-auto">We&#x27;ve built these migration scripts dozens of times. We can move your data safely and securely in less than a week.</p><a href="/unblock"><button class="organic-btn inline-flex items-center gap-2 text-lg px-8 py-4">Book an Unblock Session<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right w-4 h-4"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></button></a></div></div></article></main><footer class="bg-primary text-primary-foreground py-16"><div class="container"><div class="grid md:grid-cols-4 gap-12 mb-12"><div class="col-span-2"><div class="flex items-center gap-3 mb-6"><img alt="First Radicle Logo" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" class="h-8 w-auto brightness-0 invert" style="color:transparent" src="/images/logo.png"/><div class="font-serif font-bold text-2xl tracking-tight">First Radicle</div></div><p class="text-primary-foreground/70 max-w-sm leading-relaxed">The bridge between validation and venture scale. We build the technical foundation for the next generation of unicorns.</p></div><div class="col-span-2 md:col-span-2 flex flex-col md:items-end"><h4 class="font-serif font-bold mb-6 text-chart-2">Explore</h4><ul class="space-y-3 text-primary-foreground/70 text-right"><li><a class="hover:text-white transition-colors" href="/about">About</a></li><li><a class="hover:text-white transition-colors" href="/contact">Contact</a></li><li><a class="hover:text-white transition-colors" href="/guarantee">Guarantee</a></li></ul></div></div><div class="border-t border-primary-foreground/10 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-primary-foreground/50 font-sans"><div>© 2025 First Radicle. All rights reserved.</div><div class="flex gap-6 mt-4 md:mt-0"><a href="#" class="hover:text-white transition-colors">Twitter</a><a href="#" class="hover:text-white transition-colors">LinkedIn</a><a href="#" class="hover:text-white transition-colors">GitHub</a></div></div></div></footer></div><!--$--><!--/$--><script src="/_next/static/chunks/webpack-c1add83710e727c5.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[3204,[\"374\",\"static/chunks/374-85a8426739003d61.js\",\"177\",\"static/chunks/app/layout-1be92dc978f6506c.js\"],\"Provider\"]\n3:I[585,[\"374\",\"static/chunks/374-85a8426739003d61.js\",\"177\",\"static/chunks/app/layout-1be92dc978f6506c.js\"],\"Toaster\"]\n4:I[3066,[\"374\",\"static/chunks/374-85a8426739003d61.js\",\"177\",\"static/chunks/app/layout-1be92dc978f6506c.js\"],\"default\"]\n5:I[2844,[],\"\"]\n6:I[9356,[\"198\",\"static/chunks/198-20ee7a42fb36a3cb.js\",\"39\",\"static/chunks/app/error-ea2cb049d32b3032.js\"],\"default\"]\n7:I[8602,[],\"\"]\n8:I[7786,[\"198\",\"static/chunks/198-20ee7a42fb36a3cb.js\",\"345\",\"static/chunks/app/not-found-760f9e738ba3b95d.js\"],\"default\"]\n9:I[3972,[\"198\",\"static/chunks/198-20ee7a42fb36a3cb.js\",\"229\",\"static/chunks/229-7e7aa3334379e546.js\",\"972\",\"static/chunks/972-4a0ad228a6f177ed.js\",\"763\",\"static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js\"],\"Layout\"]\na:I[3373,[\"198\",\"static/chunks/198-20ee7a42fb36a3cb.js\",\"229\",\"static/chunks/229-7e7aa3334379e546.js\",\"972\",\"static/chunks/972-4a0ad228a6f177ed.js\",\"763\",\"static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js\"],\"\"]\nb:I[1326,[\"198\",\"static/chunks/198-20ee7a42fb36a3cb.js\",\"229\",\"static/chunks/229-7e7aa3334379e546.js\",\"972\",\"static/chunks/972-4a0ad228a6f177ed.js\",\"763\",\"static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js\"],\"OrganicButton\"]\nc:I[930,[\"198\",\"static/chunks/198-20ee7a42fb36a3cb.js\",\"229\",\"static/chunks/229-7e7aa3334379e546.js\",\"972\",\"static/chunks/972-4a0ad228a6f177ed.js\",\"763\",\"static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js\"],\"Image\"]\n21:I[1672,[],\"\"]\n:HL[\"/_next/static/media/7b0b24f36b1a6d0b-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/af4bf8399d1aacdf-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/6434915189feccb4.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"k7Cjo5BSVTdIXTzcBDI7I\",\"c\":[\"\",\"blog\",\"escaping-airtable\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[\"escaping-airtable\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/6434915189feccb4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_eb41fe __variable_543835\",\"children\":[\"$\",\"$L2\",null,{\"data-slot\":\"tooltip-provider\",\"delayDuration\":0,\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"$L4\",null,{}],[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$6\",\"errorStyles\":[],\"errorScripts\":[],\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"$L8\",null,{}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L9\",null,{\"children\":[[\"$\",\"header\",null,{\"className\":\"pt-20 pb-12 bg-secondary/30\",\"children\":[\"$\",\"div\",null,{\"className\":\"container max-w-4xl mx-auto\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[\"$\",\"$La\",null,{\"href\":\"/\",\"children\":[\"$\",\"$Lb\",null,{\"variant\":\"secondary\",\"className\":\"text-sm py-2 px-4 inline-flex items-center\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left w-4 h-4 mr-2\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],\" Back to Home\"]}]}]}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-3 text-sm font-sans font-medium text-muted-foreground mb-6 uppercase tracking-wider\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-primary\",\"children\":\"Technical Migration\"}],[\"$\",\"span\",null,{\"className\":\"w-1 h-1 rounded-full bg-primary/30\"}],[\"$\",\"span\",null,{\"children\":\"Oct 12, 2025\"}],[\"$\",\"span\",null,{\"className\":\"w-1 h-1 rounded-full bg-primary/30\"}],[\"$\",\"span\",null,{\"children\":\"8 min read\"}]]}],[\"$\",\"h1\",null,{\"className\":\"text-4xl md:text-6xl font-serif font-medium tracking-tight leading-[1.1] mb-8 text-primary\",\"children\":\"Escaping the Airtable Trap: Migrating 50k Records to PostgreSQL\"}],[\"$\",\"p\",null,{\"className\":\"text-xl md:text-2xl text-muted-foreground font-sans leading-relaxed max-w-3xl\",\"children\":\"Airtable is fantastic for prototyping, but when you hit the 50k record limit or need complex relational queries, it becomes a bottleneck. Here's how we architect a zero-downtime migration.\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"container max-w-5xl mx-auto -mt-12 mb-20 relative z-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"relative aspect-video rounded-2xl overflow-hidden shadow-2xl border border-white/20\",\"children\":[\"$\",\"$Lc\",null,{\"src\":\"/images/blog-airtable.png\",\"alt\":\"Airtable to Database Migration Illustration\",\"fill\":true,\"className\":\"object-cover\"}]}]}],[\"$\",\"article\",null,{\"className\":\"container max-w-3xl mx-auto pb-32\",\"children\":[\"$\",\"div\",null,{\"className\":\"prose prose-lg prose-headings:font-serif prose-headings:text-primary prose-p:text-muted-foreground prose-strong:text-foreground prose-code:text-primary prose-code:bg-primary/5 prose-code:px-1 prose-code:rounded prose-code:font-mono prose-pre:bg-secondary/50 prose-pre:border prose-pre:border-border\",\"children\":[[\"$\",\"p\",null,{\"className\":\"lead text-xl font-medium text-foreground mb-12\",\"children\":\"We recently worked with a logistics startup that was running their entire operation on Airtable. They had 48,000 records in their main \\\"Shipments\\\" table and were hitting API rate limits daily. Their \\\"database\\\" was effectively a spreadsheet, and it was starting to crack.\"}],[\"$\",\"h3\",null,{\"children\":\"The Challenge: Relational Integrity\"}],\"$Ld\",\"$Le\",\"$Lf\",\"$L10\",\"$L11\",\"$L12\",\"$L13\",\"$L14\",\"$L15\",\"$L16\",\"$L17\",\"$L18\",\"$L19\",\"$L1a\",\"$L1b\",\"$L1c\",\"$L1d\",\"$L1e\"]}]}]]}],null,\"$L1f\"]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],\"$L20\",false]],\"m\":\"$undefined\",\"G\":[\"$21\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"22:I[4057,[],\"OutletBoundary\"]\n23:\"$Sreact.suspense\"\n25:I[4057,[],\"ViewportBoundary\"]\n27:I[4057,[],\"MetadataBoundary\"]\nd:[\"$\",\"p\",null,{\"children\":[\"The biggest hurdle in moving from Airtable to SQL isn't the data volume—50k records is nothing for PostgreSQL. The challenge is \",[\"$\",\"strong\",null,{\"children\":\"preserving relationships\"}],\".\"]}]\ne:[\"$\",\"p\",null,{\"children\":[\"In Airtable, a \\\"Linked Record\\\" is an array of IDs (e.g., \",[\"$\",\"code\",null,{\"children\":\"[\\\"rec123...\\\", \\\"rec456...\\\"]\"}],\"). In a proper relational database, this needs to be normalized into foreign keys or join tables. If you just dump the JSON, you're not building a database; you're building a slower Airtable.\"]}]\n"])</script><script>self.__next_f.push([1,"f:[\"$\",\"div\",null,{\"className\":\"my-12 p-8 bg-secondary/30 rounded-xl border border-border\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"text-lg font-bold mb-4 flex items-center gap-2\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-layers w-5 h-5 text-primary\",\"children\":[[\"$\",\"path\",\"8b97xw\",{\"d\":\"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z\"}],[\"$\",\"path\",\"dd6zsq\",{\"d\":\"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65\"}],[\"$\",\"path\",\"ep9fru\",{\"d\":\"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65\"}],\"$undefined\"]}],\"The Migration Strategy\"]}],[\"$\",\"ul\",null,{\"className\":\"space-y-3 list-none pl-0\",\"children\":[[\"$\",\"li\",null,{\"className\":\"flex gap-3\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1\",\"children\":[[\"$\",\"path\",\"1gmf2c\",{\"d\":\"M20 6 9 17l-5-5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Step 1: Schema Mapping.\"}],\" Define TypeScript interfaces for both the Airtable Source and the Postgres Destination.\"]}]]}],[\"$\",\"li\",null,{\"className\":\"flex gap-3\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1\",\"children\":[[\"$\",\"path\",\"1gmf2c\",{\"d\":\"M20 6 9 17l-5-5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Step 2: The Extract.\"}],\" Paginate through Airtable API to fetch all records, handling rate limits with exponential backoff.\"]}]]}],[\"$\",\"li\",null,{\"className\":\"flex gap-3\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1\",\"children\":[[\"$\",\"path\",\"1gmf2c\",{\"d\":\"M20 6 9 17l-5-5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Step 3: The Transform.\"}],\" Resolve Linked Record IDs to real foreign keys.\"]}]]}],[\"$\",\"li\",null,{\"className\":\"flex gap-3\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1\",\"children\":[[\"$\",\"path\",\"1gmf2c\",{\"d\":\"M20 6 9 17l-5-5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Step 4: The Load.\"}],\" Bulk insert into Postgres using transactions to ensure atomicity.\"]}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"10:[\"$\",\"h3\",null,{\"children\":\"Step 1: Type-Safe Schema Definition\"}]\n11:[\"$\",\"p\",null,{\"children\":\"We start by defining exactly what we're dealing with. This prevents \\\"undefined\\\" errors halfway through a 2-hour migration script.\"}]\n12:[\"$\",\"div\",null,{\"className\":\"not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-xs font-mono text-gray-500\",\"children\":\"types/migration.ts\"}],[\"$\",\"div\",null,{\"className\":\"flex gap-1.5\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-3 h-3 rounded-full bg-red-500/20\"}],[\"$\",\"div\",null,{\"className\":\"w-3 h-3 rounded-full bg-yellow-500/20\"}],[\"$\",\"div\",null,{\"className\":\"w-3 h-3 rounded-full bg-green-500/20\"}]]}]]}],[\"$\",\"pre\",null,{\"className\":\"p-6 overflow-x-auto text-sm font-mono leading-relaxed\",\"children\":\"// 1. The Source (Airtable)\\ninterface AirtableShipment {\\n  id: string;\\n  fields: {\\n    \\\"Tracking Number\\\": string;\\n    \\\"Status\\\": \\\"In Transit\\\" | \\\"Delivered\\\" | \\\"Pending\\\";\\n    \\\"Customer\\\": string[]; // Array of Record IDs [\\\"recABC...\\\"]\\n    \\\"Value\\\": number;\\n  }\\n}\\n\\n// 2. The Destination (Postgres/Prisma)\\ninterface DbShipment {\\n  id: string; // We keep the Airtable ID initially for mapping\\n  trackingNumber: string;\\n  status: ShipmentStatus;\\n  customerId: string; // Single Foreign Key\\n  value: number;\\n}\"}]]}]\n13:[\"$\",\"h3\",null,{\"children\":\"Step 2: Handling Pagination \u0026 Rate Limits\"}]\n14:[\"$\",\"p\",null,{\"children\":[\"Airtable's API is strict (5 requests/second). If you try to \",[\"$\",\"code\",null,{\"children\":\"Promise.all\"}],\" 50k records, you'll get banned. We use a custom iterator with a built-in delay.\"]}]\n15:[\"$\",\"div\",null,{\"className\":\"not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800\",\"children\":[\"$\",\"span\",null,{\"className\":\"text-xs font-mono text-gray-500\",\"children\":\"utils/airtable-fetcher.ts\"}]}],[\"$\",\"pre\",null,{\"className\":\"p-6 overflow-x-auto text-sm font-mono leading-relaxed\",\"children\":\"async function* fetchAllRecords(baseId: string, table: string) {\\n  let offset = undefined;\\n  \\n  do {\\n    const response = await airtable.get(`/${baseId}/${table}`, {\\n      params: { offset, pageSize: 100 }\\n    });\\n\\n    yield response.data.records;\\n    \\n    offset = response.data.offset;\\n    \\n    // Crucial: Wait 250ms between pages to respect rate limits\\n    await new Promise(resolve =\u003e setTimeout(resolve, 250));\\n    \\n  } while (offset);\\n}\"}]]}]\n16:[\"$\",\"h3\",null,{\"children\":\"Step 3: Resolving Relationships\"}]\n17:[\"$\",\"p\",null,{\"children\":\"This is the tricky part. Airtable gives you an array of IDs for a linked field, even if it's a 1-to-1 relationship logically. You need to decide how to handle that.\"}]\n18:[\"$\",\"p\",null,{\"children\":[\"In our case, a Shipment belongs to \",[\"$\",\"strong\",null,{\"children\":\"one\"}],\" Customer. We validate this assumption during the transform phase.\"]}]\n19:[\"$\",\"div\",null,{\"className\":\"not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800\",\"children\":[\"$\",\"span\",null,{\"className\":\"text-xs font-mono text-gray-500\",\"children\":\"scripts/migrate.ts\"}]}],[\"$\",\"pre\",null,{\"className\":\"p-6 overflow-x-auto text-sm font-mono leading-relaxed\",\"children\":\"const transformShipment = (record: AirtableShipment): DbShipment =\u003e {\\n  const customerIds = record.fields[\\\"Customer\\\"];\\n  \\n  if (!customerIds || customerIds.length === 0) {\\n    throw new Error(`Shipment ${record.id} has no customer linked`);\\n  }\\n  \\n  if (customerIds.length \u003e 1) {\\n    console.warn(`Shipment ${record.id} has multiple customers. Using first.`);\\n  }\\n\\n  return {\\n    id: record.id,\\n    trackingNumber"])</script><script>self.__next_f.push([1,": record.fields[\\\"Tracking Number\\\"],\\n    status: mapStatus(record.fields[\\\"Status\\\"]),\\n    customerId: customerIds[0], // Map the first ID to the Foreign Key\\n    value: record.fields[\\\"Value\\\"] || 0\\n  };\\n};\"}]]}]\n1a:[\"$\",\"h3\",null,{\"children\":\"The Result\"}]\n1b:[\"$\",\"p\",null,{\"children\":\"After running this script, we populated a PostgreSQL database with 48,000 shipments and 2,500 customers in about 4 minutes.\"}]\n1c:[\"$\",\"p\",null,{\"children\":\"The immediate benefits were massive:\"}]\n1d:[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Query Speed:\"}],\" Complex filtering (e.g., \\\"Show all delivered shipments \u003e $500 from last month\\\") went from 8 seconds in Airtable to 12ms in Postgres.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Data Integrity:\"}],\" We added database constraints so it's now impossible to create a shipment without a valid customer.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Cost:\"}],\" They dropped their $1,200/mo Enterprise Airtable plan for a $50/mo Vercel Postgres instance.\"]}]]}]\n1e:[\"$\",\"div\",null,{\"className\":\"mt-16 p-8 bg-primary/5 rounded-2xl border border-primary/10 text-center\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-serif font-bold text-primary mb-4\",\"children\":\"Ready to escape your spreadsheet?\"}],[\"$\",\"p\",null,{\"className\":\"text-muted-foreground mb-8 max-w-xl mx-auto\",\"children\":\"We've built these migration scripts dozens of times. We can move your data safely and securely in less than a week.\"}],[\"$\",\"$La\",null,{\"href\":\"/unblock\",\"children\":[\"$\",\"$Lb\",null,{\"className\":\"text-lg px-8 py-4\",\"children\":\"Book an Unblock Session\"}]}]]}]\n1f:[\"$\",\"$L22\",null,{\"children\":[\"$\",\"$23\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@24\"}]}]\n20:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L25\",null,{\"children\":\"$L26\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$L27\",null,{\"children\":[\"$\",\"$23\",null,{\"name\":\"Next.Metadata\",\"children\":\"$L28\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]\n"])</script><script>self.__next_f.push([1,"26:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"29:I[428,[],\"IconMark\"]\n24:null\n28:[[\"$\",\"title\",\"0\",{\"children\":\"Escaping the Airtable Trap - First Radicle\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"How we migrated 50k records from Airtable to PostgreSQL without losing a single record.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.png\"}],[\"$\",\"$L29\",\"3\",{}]]\n"])</script></body></html>
1:"$Sreact.fragment"
2:I[3972,["198","static/chunks/198-20ee7a42fb36a3cb.js","229","static/chunks/229-7e7aa3334379e546.js","972","static/chunks/972-4a0ad228a6f177ed.js","763","static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js"],"Layout"]
3:I[3373,["198","static/chunks/198-20ee7a42fb36a3cb.js","229","static/chunks/229-7e7aa3334379e546.js","972","static/chunks/972-4a0ad228a6f177ed.js","763","static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js"],""]
4:I[1326,["198","static/chunks/198-20ee7a42fb36a3cb.js","229","static/chunks/229-7e7aa3334379e546.js","972","static/chunks/972-4a0ad228a6f177ed.js","763","static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js"],"OrganicButton"]
5:I[930,["198","static/chunks/198-20ee7a42fb36a3cb.js","229","static/chunks/229-7e7aa3334379e546.js","972","static/chunks/972-4a0ad228a6f177ed.js","763","static/chunks/app/blog/escaping-airtable/page-f6feb1d29987ac7e.js"],"Image"]
1a:I[4057,[],"OutletBoundary"]
1b:"$Sreact.suspense"
0:{"buildId":"k7Cjo5BSVTdIXTzcBDI7I","rsc":["$","$1","c",{"children":[["$","$L2",null,{"children":[["$","header",null,{"className":"pt-20 pb-12 bg-secondary/30","children":["$","div",null,{"className":"container max-w-4xl mx-auto","children":[["$","div",null,{"className":"mb-8","children":["$","$L3",null,{"href":"/","children":["$","$L4",null,{"variant":"secondary","className":"text-sm py-2 px-4 inline-flex items-center","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left w-4 h-4 mr-2","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}]," Back to Home"]}]}]}],["$","div",null,{"className":"flex items-center gap-3 text-sm font-sans font-medium text-muted-foreground mb-6 uppercase tracking-wider","children":[["$","span",null,{"className":"text-primary","children":"Technical Migration"}],["$","span",null,{"className":"w-1 h-1 rounded-full bg-primary/30"}],["$","span",null,{"children":"Oct 12, 2025"}],["$","span",null,{"className":"w-1 h-1 rounded-full bg-primary/30"}],["$","span",null,{"children":"8 min read"}]]}],["$","h1",null,{"className":"text-4xl md:text-6xl font-serif font-medium tracking-tight leading-[1.1] mb-8 text-primary","children":"Escaping the Airtable Trap: Migrating 50k Records to PostgreSQL"}],["$","p",null,{"className":"text-xl md:text-2xl text-muted-foreground font-sans leading-relaxed max-w-3xl","children":"Airtable is fantastic for prototyping, but when you hit the 50k record limit or need complex relational queries, it becomes a bottleneck. Here's how we architect a zero-downtime migration."}]]}]}],["$","div",null,{"className":"container max-w-5xl mx-auto -mt-12 mb-20 relative z-10","children":["$","div",null,{"className":"relative aspect-video rounded-2xl overflow-hidden shadow-2xl border border-white/20","children":["$","$L5",null,{"src":"/images/blog-airtable.png","alt":"Airtable to Database Migration Illustration","fill":true,"className":"object-cover"}]}]}],["$","article",null,{"className":"container max-w-3xl mx-auto pb-32","children":["$","div",null,{"className":"prose prose-lg prose-headings:font-serif prose-headings:text-primary prose-p:text-muted-foreground prose-strong:text-foreground prose-code:text-primary prose-code:bg-primary/5 prose-code:px-1 prose-code:rounded prose-code:font-mono prose-pre:bg-secondary/50 prose-pre:border prose-pre:border-border","children":[["$","p",null,{"className":"lead text-xl font-medium text-foreground mb-12","children":"We recently worked with a logistics startup that was running their entire operation on Airtable. They had 48,000 records in their main \"Shipments\" table and were hitting API rate limits daily. Their \"database\" was effectively a spreadsheet, and it was starting to crack."}],["$","h3",null,{"children":"The Challenge: Relational Integrity"}],["$","p",null,{"children":["The biggest hurdle in moving from Airtable to SQL isn't the data volumeâ€”50k records is nothing for PostgreSQL. The challenge is ",["$","strong",null,{"children":"preserving relationships"}],"."]}],["$","p",null,{"children":["In Airtable, a \"Linked Record\" is an array of IDs (e.g., ",["$","code",null,{"children":"[\"rec123...\", \"rec456...\"]"}],"). In a proper relational database, this needs to be normalized into foreign keys or join tables. If you just dump the JSON, you're not building a database; you're building a slower Airtable."]}],["$","div",null,{"className":"my-12 p-8 bg-secondary/30 rounded-xl border border-border","children":[["$","h4",null,{"className":"text-lg font-bold mb-4 flex items-center gap-2","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-layers w-5 h-5 text-primary","children":["$L6","$L7","$L8","$undefined"]}],"The Migration Strategy"]}],"$L9"]}],"$La","$Lb","$Lc","$Ld","$Le","$Lf","$L10","$L11","$L12","$L13","$L14","$L15","$L16","$L17","$L18"]}]}]]}],null,"$L19"]}],"loading":null,"isPartial":false}
6:["$","path","8b97xw",{"d":"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z"}]
7:["$","path","dd6zsq",{"d":"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65"}]
8:["$","path","ep9fru",{"d":"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"}]
9:["$","ul",null,{"className":"space-y-3 list-none pl-0","children":[["$","li",null,{"className":"flex gap-3","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1","children":[["$","path","1gmf2c",{"d":"M20 6 9 17l-5-5"}],"$undefined"]}],["$","span",null,{"children":[["$","strong",null,{"children":"Step 1: Schema Mapping."}]," Define TypeScript interfaces for both the Airtable Source and the Postgres Destination."]}]]}],["$","li",null,{"className":"flex gap-3","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1","children":[["$","path","1gmf2c",{"d":"M20 6 9 17l-5-5"}],"$undefined"]}],["$","span",null,{"children":[["$","strong",null,{"children":"Step 2: The Extract."}]," Paginate through Airtable API to fetch all records, handling rate limits with exponential backoff."]}]]}],["$","li",null,{"className":"flex gap-3","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1","children":[["$","path","1gmf2c",{"d":"M20 6 9 17l-5-5"}],"$undefined"]}],["$","span",null,{"children":[["$","strong",null,{"children":"Step 3: The Transform."}]," Resolve Linked Record IDs to real foreign keys."]}]]}],["$","li",null,{"className":"flex gap-3","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-check w-5 h-5 text-primary shrink-0 mt-1","children":[["$","path","1gmf2c",{"d":"M20 6 9 17l-5-5"}],"$undefined"]}],["$","span",null,{"children":[["$","strong",null,{"children":"Step 4: The Load."}]," Bulk insert into Postgres using transactions to ensure atomicity."]}]]}]]}]
a:["$","h3",null,{"children":"Step 1: Type-Safe Schema Definition"}]
b:["$","p",null,{"children":"We start by defining exactly what we're dealing with. This prevents \"undefined\" errors halfway through a 2-hour migration script."}]
c:["$","div",null,{"className":"not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800","children":[["$","div",null,{"className":"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800","children":[["$","span",null,{"className":"text-xs font-mono text-gray-500","children":"types/migration.ts"}],["$","div",null,{"className":"flex gap-1.5","children":[["$","div",null,{"className":"w-3 h-3 rounded-full bg-red-500/20"}],["$","div",null,{"className":"w-3 h-3 rounded-full bg-yellow-500/20"}],["$","div",null,{"className":"w-3 h-3 rounded-full bg-green-500/20"}]]}]]}],["$","pre",null,{"className":"p-6 overflow-x-auto text-sm font-mono leading-relaxed","children":"// 1. The Source (Airtable)\ninterface AirtableShipment {\n  id: string;\n  fields: {\n    \"Tracking Number\": string;\n    \"Status\": \"In Transit\" | \"Delivered\" | \"Pending\";\n    \"Customer\": string[]; // Array of Record IDs [\"recABC...\"]\n    \"Value\": number;\n  }\n}\n\n// 2. The Destination (Postgres/Prisma)\ninterface DbShipment {\n  id: string; // We keep the Airtable ID initially for mapping\n  trackingNumber: string;\n  status: ShipmentStatus;\n  customerId: string; // Single Foreign Key\n  value: number;\n}"}]]}]
d:["$","h3",null,{"children":"Step 2: Handling Pagination & Rate Limits"}]
e:["$","p",null,{"children":["Airtable's API is strict (5 requests/second). If you try to ",["$","code",null,{"children":"Promise.all"}]," 50k records, you'll get banned. We use a custom iterator with a built-in delay."]}]
f:["$","div",null,{"className":"not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800","children":[["$","div",null,{"className":"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800","children":["$","span",null,{"className":"text-xs font-mono text-gray-500","children":"utils/airtable-fetcher.ts"}]}],["$","pre",null,{"className":"p-6 overflow-x-auto text-sm font-mono leading-relaxed","children":"async function* fetchAllRecords(baseId: string, table: string) {\n  let offset = undefined;\n  \n  do {\n    const response = await airtable.get(`/${baseId}/${table}`, {\n      params: { offset, pageSize: 100 }\n    });\n\n    yield response.data.records;\n    \n    offset = response.data.offset;\n    \n    // Crucial: Wait 250ms between pages to respect rate limits\n    await new Promise(resolve => setTimeout(resolve, 250));\n    \n  } while (offset);\n}"}]]}]
10:["$","h3",null,{"children":"Step 3: Resolving Relationships"}]
11:["$","p",null,{"children":"This is the tricky part. Airtable gives you an array of IDs for a linked field, even if it's a 1-to-1 relationship logically. You need to decide how to handle that."}]
12:["$","p",null,{"children":["In our case, a Shipment belongs to ",["$","strong",null,{"children":"one"}]," Customer. We validate this assumption during the transform phase."]}]
13:["$","div",null,{"className":"not-prose bg-[#1e1e1e] text-gray-300 rounded-xl overflow-hidden my-8 shadow-lg border border-gray-800","children":[["$","div",null,{"className":"flex items-center justify-between px-4 py-2 bg-[#252526] border-b border-gray-800","children":["$","span",null,{"className":"text-xs font-mono text-gray-500","children":"scripts/migrate.ts"}]}],["$","pre",null,{"className":"p-6 overflow-x-auto text-sm font-mono leading-relaxed","children":"const transformShipment = (record: AirtableShipment): DbShipment => {\n  const customerIds = record.fields[\"Customer\"];\n  \n  if (!customerIds || customerIds.length === 0) {\n    throw new Error(`Shipment ${record.id} has no customer linked`);\n  }\n  \n  if (customerIds.length > 1) {\n    console.warn(`Shipment ${record.id} has multiple customers. Using first.`);\n  }\n\n  return {\n    id: record.id,\n    trackingNumber: record.fields[\"Tracking Number\"],\n    status: mapStatus(record.fields[\"Status\"]),\n    customerId: customerIds[0], // Map the first ID to the Foreign Key\n    value: record.fields[\"Value\"] || 0\n  };\n};"}]]}]
14:["$","h3",null,{"children":"The Result"}]
15:["$","p",null,{"children":"After running this script, we populated a PostgreSQL database with 48,000 shipments and 2,500 customers in about 4 minutes."}]
16:["$","p",null,{"children":"The immediate benefits were massive:"}]
17:["$","ul",null,{"children":[["$","li",null,{"children":[["$","strong",null,{"children":"Query Speed:"}]," Complex filtering (e.g., \"Show all delivered shipments > $500 from last month\") went from 8 seconds in Airtable to 12ms in Postgres."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Data Integrity:"}]," We added database constraints so it's now impossible to create a shipment without a valid customer."]}],["$","li",null,{"children":[["$","strong",null,{"children":"Cost:"}]," They dropped their $1,200/mo Enterprise Airtable plan for a $50/mo Vercel Postgres instance."]}]]}]
18:["$","div",null,{"className":"mt-16 p-8 bg-primary/5 rounded-2xl border border-primary/10 text-center","children":[["$","h3",null,{"className":"text-2xl font-serif font-bold text-primary mb-4","children":"Ready to escape your spreadsheet?"}],["$","p",null,{"className":"text-muted-foreground mb-8 max-w-xl mx-auto","children":"We've built these migration scripts dozens of times. We can move your data safely and securely in less than a week."}],["$","$L3",null,{"href":"/unblock","children":["$","$L4",null,{"className":"text-lg px-8 py-4","children":"Book an Unblock Session"}]}]]}]
19:["$","$L1a",null,{"children":["$","$1b",null,{"name":"Next.MetadataOutlet","children":"$@1c"}]}]
1c:null
